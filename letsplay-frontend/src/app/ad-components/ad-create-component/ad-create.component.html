<div class="card">
  <h2>Crée ton annonce !</h2>

  <div id="form-container">
    <form [formGroup]="adForm" (ngSubmit)="onSubmit()">
        <label for="title">Titre :</label><br />
        <input
          type="text"
          id="title"
          name="title"
          class="field"
          formControlName="title"
          required
        /><br />
    
        <!-- TODO : quand clic sur musician, enlever l'image du groupe -->
        <div>
          <label for="band">Je recherche : </label>
          <input
            type="radio"
            id="band"
            value="band"
            name="search"
            formControlName="search"
            (change)="setSeeking('band')"
          />
          Un groupe
          <input
            type="radio"
            id="musician"
            value="musician"
            name="search"
            formControlName="search"
          />
          Un musicien
          <select
            id="musicianType"
            #musicianType
            class="field"
            name="musicianType"
            formControlName="musicianType"
            *ngIf="adForm.get('search')?.value === 'musician'"
            (change)="setSeeking(musicianType.value)"
          >
            <option value="guitar">Guitariste</option>
            <option value="synths">Claviériste</option>
            <option value="vocalist">Vocaliste</option>
            <option value="bass">Bassiste</option>
            <option value="drums">Batteur</option>
            <option value="misc">Autre</option>
          </select>
        </div>
    
        <div>
          <img
            id="selected-image"
            *ngIf="imageSrc !== ''"
            src="{{ imageSrc }}"
            alt="Image par défaut"
            class="w-72 h-72"
          />
        </div>
        <div class="flex justify-center mt-2">
          <button
            class="button"
            type="button"
            id="upload-image"
            (click)="openWidget()"
          >
            Choisir une image
          </button>
        </div>
    
        <ng-multiselect-dropdown
          [placeholder]="'Sélectionne les styles de ton choix'"
          [settings]="dropdownSettings"
          [data]="dropdownList"
          formControlName="selectedItems"
          (onSelect)="onItemSelect($event)"
          (onDeSelect)="onItemDeSelect($event)"
          (onSelectAll)="onSelectAll($event)"
          (onDeSelectAll)="onDeSelectAll($event)"
        >
        </ng-multiselect-dropdown>
    
        <label for="location">Région :</label>
        <select
          id="location"
          class="field"
          name="location"
          formControlName="location"
        >
          <option value="Auvergne-Rhône-Alpes">Auvergne-Rhône-Alpes</option>
          <option value="Bourgogne-Franche-Comté">Bourgogne-Franche-Comté</option>
          <option value="Bretagne">Bretagne</option>
          <option value="Centre-Val-de-Loire">Centre-Val-de-Loire</option>
          <option value="Corse">Corse</option>
          <option value="Grand Est">Grand Est</option>
          <option value="Hauts-de-France">Hauts-de-France</option>
          <option value="Ile-de-France">Ile-de-France</option>
          <option value="Normandie">Normandie</option>
          <option value="Nouvelle-Aquitaine">Nouvelle-Aquitaine</option>
          <option value="Occitanie">Occitanie</option>
          <option value="Pays-de-la-Loire">Pays-de-la-Loire</option>
          <option value="Provence-Alpes-Côte d'Azur">
            Provence-Alpes-Côte d'Azur
          </option>
        </select>
    
        <label for="description">Ton annonce :</label><br />
        <textarea
          id="description"
          name="description"
          class="field"
          formControlName="description"
          required
        ></textarea
        ><br />
    
        <div class="flex justify-center mt-2">
          <button type="submit" [disabled]="adForm.invalid" class="button">
            Poster mon annonce
          </button>
        </div>
      </form>
  </div>
</div>
